% -*-cap2.tex-*-
% Este fichero es parte de la plantilla LaTeX para
% la realización de Proyectos Final de Carrera, protegido
% bajo los términos de la licencia GFDL.
% Para más información, la licencia completa viene incluida en el
% fichero fdl-1.3.tex

% Copyright (C) 2009 Pablo Recio Quijano 

Para el desarrollo de \textbf{Dominous} se decidió utilizar el modelo evolutivo iterativo incremental para el ciclo de
vida del proyecto. La decisión fue tomada ya que, a pesar de tener acotado el ámbito y los requisitos del programa,
la funcionalidad concreta de cada uno de los apartados se desconocía en un principio.\\

El modelo iterativo incremental es un modelo de tipo evolutivo que está basado en varios ciclos en cascada realimentados aplicados
repetidamente, con una filosofía iterativa. Como se comenta en BUSCAR CITE, al final de cada iteración se le
realiza una entrega al cliente final; en este caso, el cliente ha sido el tutor del proyecto, que a cada iteración iba
dictando las líneas maestras generales a tomar a cada nuevo paso.

Las ventajas de utilizar un modelo iterativo incremental son básicamente los siguientes:
\begin{enumerate}
    \item Construir un sistema pequeño es siempre menos costoso en términos de riesgo.
    \item Al ir desarrollando parte de las funcionalidades, es más fácil determinar si los requerimientos
            planeados para los niveles subsiguientes son correctos.
    \item Si se comete algún error grave, sólo la última iteración necesita ser descartada.
    \item Reduciendo el tiempo de desarrollo de un sistema (en este caso en incremento del sistema) decrecen las
            probabilidades que esos requerimientos de usuarios puedan cambiar durante el desarrollo.
    \item Los errores de desarrollo realizados en un incremento, pueden ser arreglados antes del comienzo del próximo incremento.
\end{enumerate}

El proyecto \textbf{Dominous} consta de tres subsistemas que son los que ocupan el grueso del desarrollo:
\begin{enumerate}
    \item El primero es el motor de la partida: Controla los jugadores, las fichas en la mesa, la partida, situaciones irregulares
            y cualquier otro elemento referente únicamente al ámbito del dominó.
    \item Por otro lado está el motor gráfico, que será la interfaz entre la partida y el usuario, permitiendo el movimiento
            fluido por las diferentes secciones del programa e interactuando de forma directa con el motor de la partida,
            mostrando las fichas actuales y habilitando la interacción del jugador con el mundo.
    \item Y por último tenemos el motor de Inteligencia Artificial. Este motor será el que alimente la inteligencia
            y las acciones y decisiones de los jugadores controlados por el ordenador.
\end{enumerate}



\section{Incrementos realizados}

A continuación se citan los diferentes incrementos que se han ido realizando en el desarrollo del proyecto.

\subsection{Preliminares y herramientas}

El primer paso a la hora de enfrentarse a un proyecto es decidir las herramientas que vamos a utilizar.\\

Para todo el tema del aspecto gráfico, mi tutor me recomendó que utilizara las librerías SDL\footnote{Simple
Directmedia Layer}, ya que son unas librerías orientadas al desarrollo de videojuegos con varias particularidades:
\begin{itemize}
    \item Son completas, ya que permiten gestionar operaciones de dibujo en dos dimensiones, efectos de
            sonido y música, carga y gestión de imágenes, subsistemas de control de métodos de entrada,
            etcétera, por lo que contamos con una solución global para desarrollar videojuegos.
    \item Están programas en C, por lo que se puede esperar un buen rendimiento de las librerías en
            diferentes entornos.
    \item Multiplataforma: es compatible oficialmente con los sistemas Microsoft Windows, GNU/Linux,
            Mac OS y QNX, además de otras arquitecturas y sistemas menos comunes como Sega Dreamcast, Sony PSP,
            WebOS, Google Android o Symbian entre otros.
    \item Tampoco hay que mantener al margen la característica de que cuenta con wrappers a otros lenguajes
            de programación como entre los que se encuentran C++, Ada, C\#, BASIC, Erlang, Lua, Java o Python, por
            lo que nos da bastante libertad para elegir un lenguaje de programación principal
    \item Publicado bajo licencia LGPL, con todas las ventajas que conlleva.
    \item Y por último no hay que menospreciar que mi tutor emplea SDL a la hora de impartir la asignatura
            de diseño de videojuegos, y contar con esa base de conocimiento nos ayudará a desarrollar más rápidamente
            y solucionar antes nuestros posible problemas.
\end{itemize}

\begin{figure}[h]
  \label{logo-sdl}
  \begin{center}
    \includegraphics[scale=0.5]{SDL.png}
  \end{center}
  \caption{Logotipo de la librería Simple DirectMedia Layer}
\end{figure}

En este aspecto, la utilización de las librerías SDL estaba clara. Potencia, comodidad, multiplataforma y con la posibilidad
de utilizar diferentes lenguajes de programación.\\

Y una vez que tocamos el tema de los lenguajes de programación, entra en escena la problemática sobre qué lenguaje
utilizar. En principio se pensó emplear el lenguaje C++ por dos sencillas razones:

\begin{enumerate}
    \item Por un lado es un lenguaje que hemos aprendido en la carrera, se ha utilizado en varias asignaturas de
            diferentes ramas, con lo cual la comodidad y familiaridad que podemos tener a la hora de programar
            es un punto importante a tener en cuenta.
    \item Tampoco podemos olvidar que, al ser un lenguaje compilado, la velocidad de ejecución que se consigue
            es interesante, y mucho más tratándose de temas como la inteligencia artificial (donde puede ser
            necesario un uso intensivo de los recursos del sistema) o el desarrollo de videojuegos (en el que
            la potencia del ordenador repercute en una mejor experiencia del usuario)
\end{enumerate}

Pero hay que detenerse un momento y pensar en la naturaleza del proyecto. Aunque el programa a desarrollar sea un
videojuego, no hay que olvidar que hay diferentes tipos de juegos, que pueden condicionar o influir en nuestra forma
de programarlo. En el caso del dominó, lo primero que debemos tener en cuenta es que el apartado gráfico no va a
requerir de una gran potencia o despliegue de efectos: el dominó es un juego pausado y a diferencia de otros
videojuegos lo importante en este caso es mostrar al usuario la información de la partida de una forma clara y sencilla,
para que el jugador evalúe las posibilidades de acción y actúe en consecuencia.\\

Si tenemos en cuenta estas circunstancias, existen otros lenguajes que también deben entrar en juego,
como por ejemplo \textbf{Python}. Buscando las diferencias, ventajas y desventajas de Python frente a C++,
obtenemos el siguiente listado:

\begin{enumerate}
    \item Python es un lenguaje de programación multiparadigma ya que soporta orientación a objetos,
            programación imperativa y, en menor medida, programación funcional.
    \item Al igual que C++ es multiplataforma, y está publicado con la licencia \textbf{Python Software Foundation
            License}, que es una licencia de software libre permisiva, compatible con la GPL.
    \item La sintaxis de Python es muy clara, simple, expresiva y legible, con lo cual los programas
            desarrollados bajo Python son más sencillos de entender.
    \item Python es un lenguaje interpretado, a diferencia de C++ que es compilado. Este aspecto podría suponer una
            desventaja ya que al ser interpretado puede resultar más lento, pero analicemos pausadamente estos
            factores:
        \begin{itemize}
            \item Como ya hemos comentado previamente, nuestra aplicación, a pesar de enmarcarse dentro de las
                    facciones de un videojuego, no requiere de grandes alardes de potencia gráfica como podría
                    suponerse, ya que es un tipo de juego pausado y donde cómo se muestra la información
                    es mucho más importante que la velocidad o los efectos de vídeo e imágenes.
            \item A pesar de ser interpretado, un gran conjunto de las funcionalidades de python --- como librerías o
                    funciones básicas del lenguaje --- están programadas internamente en C, así que podríamos
                    verlo como que estamos utilizando la comodidad de Python sobre la potencia de C, uniendo
                    lo mejor de ambos mundos.
        \end{itemize}
\end{enumerate}

Por otro lado, para gestionar toda la documentación del proyecto se decidió utilizar las siguientes herramientas:
\begin{itemize}
    \item \LaTeX\ para escribir la memoria, ya que es una forma robusta y fiable de escribir una memoria para
            un Proyecto Fin de Carrera, descartándose otras posibles opciones por no ser adecuadas para la escritura
            de un documento de estas características
    \item Doxygen para la documentación del código fuente, porque además de documentar de manera sencilla y fácil
            de leer el mismo código fuente, genera una documentación en diferentes formatos. Además,
        \begin{itemize}
            \item Doxygen funciona con lenguajes como C++, C, Java, Objective-C, Python, Fortran, VHDL, PHP o C\#
                    (entre otros), por lo que se puede acomodar a nuestras necesidades. Incluso existe una
                    herramienta llamada \textbf{Doxypy} que nos permite reutilizar los comentarios \emph{tipo Python}
                    y adaptarlos a Doxygen, con lo cual ahorramos trabajo y cumplimos con la normativa
                    de código Python
        \end{itemize}
\end{itemize}


\subsection{Organización de las partes básicas de la aplicación}

Después de analizar minuciosamente los requisitos de la aplicación, se decidió atacar al grueso de la misma,
es decir, la gestión de una partida de dominó en sí, y se estimó que esta debería dividirse en los siguientes
apartados:
\begin{description}
    \item[Subsistema de gestión de la partida] Este subsistema se encarga de gestionar todo lo relacionado
            con el control de la partida que se desarrolla actualmente. Desde el conteo de puntos por parte
            de cada equipo hasta las fichas de cada jugador, pasando por comprobaciones de que la partida
            se desarrolla con normalidad y no se producen violaciones de las reglas y normas, barajar las
            fichas, comprobar que se cierra la partida o pedir fichas a los diferentes jugadores.
    \item[Subsistema gráfico] Su labor es mostrar por pantalla la información que controla el subsistema
            de gestión de la partida. Debe dibujar en la pantalla el tablero con las fichas colocadas
            actualmente, las fichas de cada jugador, los puntos de cada equipo y demás información que
            sea necesario mostrar.
    \item[Subsistema de Inteligencia Artificial] Este apartado se encarga de 
\end{description}

Añadir diagrama de Gantt que se veo (si hace falta se divide en dos y/o se rota). Incluir en él la fase de redacción de la memoria.
